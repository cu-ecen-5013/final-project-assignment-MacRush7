/*#include <syslog.h>
#include <stdio.h>
#include <stdint.h>
#include <wiringPi.h>
#include <wiringSerial.h>
#include <unistd.h>
#include <sys/types.h>
#include <sys/stat.h>
#include <fcntl.h>
#include <pthread.h>
#include <string.h>
#include <wiringPiSPI.h>
*/

#include "buzzerModule.h"

#define BUF_SIZE	100
#define NUM_IMAGES	6

struct fingerprintData
{
	int printID;
	char name[30];
}employee;

int fingerprintBuffer[BUF_SIZE];
int start = 0xEF;

// fingerprint commands... see reference
int GetImage[] = {0xEF, 0x01, 0xFF, 0xFF, 0xFF, 0xFF, 0x01, 0x00, 0x03, 0x01, 0x00, 0x05};
int GenChar[] = {0xEF, 0x01, 0xFF, 0xFF, 0xFF, 0xFF, 0x01, 0x00, 0x04, 0x02, 0x01, 0x00, 0x00};
int RegModel[] = {0xEF, 0x01, 0xFF, 0xFF, 0xFF, 0xFF, 0x01, 0x00, 0x03, 0x05, 0x00, 0x09};
int StoreChar[] = {0xEF, 0x01, 0xFF, 0xFF, 0xFF, 0xFF, 0x01, 0x00, 0x06, 0x06, 0x01, 0x00, 0x01, 0x00, 0x0F};
int Search[] = {0xEF, 0x01, 0xFF, 0xFF, 0xFF, 0xFF, 0x01, 0x00, 0x08, 0x04, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
int DeleteChar[] = {0xEF, 0x01, 0xFF, 0xFF, 0xFF, 0xFF, 0x01, 0x00, 0x07, 0x0C, 0x00, 0x05, 0x00, 0x0A, 0x00, 0x23};
int Empty[] = {0xEF, 0x01, 0xFF, 0xFF, 0xFF, 0xFF, 0x01, 0x00, 0x03, 0x0D, 0x00, 0x11};
	
// cmd lengths
int GetImageLength = sizeof(GetImage)/sizeof(GetImage[0]);
int GenCharLength = sizeof(GenChar)/sizeof(GenChar[0]);
int RegModelLength = sizeof(RegModel)/sizeof(RegModel[0]);
int StoreCharLength = sizeof(StoreChar)/sizeof(StoreChar[0]);
int SearchLength = sizeof(Search)/sizeof(Search[0]);
int DeleteCharLength = sizeof(DeleteChar)/sizeof(DeleteChar[0]);
int EmptyLength = sizeof(Empty)/sizeof(Empty[0]);

int checkButton();
int checksum(int cmd[], int length);
void clearBuffer();
